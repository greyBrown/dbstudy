오라클 설치되는 기본 경로가 오라_홈(Ora_home) 이라고 불림. 보통 기본경로로 하지만 보안상의 이유로 바꾸기도 하고 그래요.
DB는 자동적으로 관리자계정이 만들어짐. 비밀번호 만들어주기...1111 입니다!

깃 보내줄 준비...loading...

오라클 해봐용 참고로 오라클 + 자바가 JSP


cmd에 사용자 이름 일케...들어갈떈 sqlplus로 들어가고sys as sysdba 비번1111 (sys하면 안나옴 ㅠ)

sqlplus      //이걸로 설치 잘 되었나 함 보기..
sys as sysdba

SQL> show user;  //유저 보여줌
USER은 "SYS"입니다
SQL> clear //별다른 말씀 없었지만 아마 esc....
SQL> conn //connection
사용자명 입력: system   //sys가 더 권한이 높음! 
비밀번호 입력:          //비밀번호 원래 안보임 ㅋㅋㅋㅋㅋ
연결되었습니다.


쿼리문이 중요한건지 시스템종류는 많이 안중해요 쿼리문이 중요!

DB 사용의 1단계는 죽으나사나 접속! (id pw)
sys로 해볼게용

도구 - 환경설정 인코딩 "UTF - 8"(UTF8 말고!)
(cp 949 ms 949 이런거는 한글 깨질수도 있어서 바꿔줘용)
코드편집기에 글꼴, 행여백가서 행번호표시 체크

sys 계정은 작업하는 계정이 아니에요. 이걸로 작업계정 만들고 접속 끊을 것임!

DB주석:
 -- single line comment
/*  */ multiline comment

오라클은 쿼리문을..대문자로! CREATE...

/* sys계정
1. 오라클 관리자 계정이다.
2. 일반 사용자를 만드는 역할로 국한해서 사용합니다.
3. SYS계정으로 일반 쿼리작업을 수행하지않도록 주의합니다.
*/

/*새로운 사용자 생성 방법
1. 사용자를 만드는 쿼리문을 실행한다.
     CREATE USER 계정이름 IDENTIFIED BY 비밀번호;
     
2. 사용자에게 권한을 부여한다.
    1) 접속 권한
    GRANT CONNECT TO 계정이름;
    2) 접속/사용 권한 부여
    GRANT CONNECT, RESOURCE TO 계정이름
    3) 관리자 권한 부여
    GRANT DBA TO 계정이름 /DBADMINISTRATIR...약자가 DBA. 기본적으로 관리자로 합니다.
*/

/*
쿼리문 실행하는 방법
1. 커서를 두고 CTRL + ENTER : 커서가 있는 쿼리문만 실행된다.
2. 블록을 잡고 CTRL + ENTER : 블록 잡은 부분의 쿼리문만 실행된다.
3. F5                     : 전체실행
*/\

계정이름 앞에 C## 이 추가되어야 한다. 이렇게!
CREATE USER C##GD IDENTIFIED BY 1111;
GRANT DBA TO C##GD;

/*
계정 삭제하기
1. 데이터베이스 객체를 가진 경우
DROP USER 계정이름 CASCADE;
2. 데이터베이스 객체를 안 가진 경우
DROP USER 계정이름;
(지금 C##GD를 지울려먼 2번! 암것도 안했으니까)
*/

DROP USER C##GD;

git add commit push 해주기~
/*
GD 계정을 만드는 전체 스크립트
C##GD가 아니라 GD! 초기화하고 싶을때 이렇게...새로운 계정으로!
아래에는 기존 계정이 있을 때 초기화하는 방법!
*/
ALTER SESSION SET "_ORACLE_SCRIPT" = TRUE; --C##을 제거해주는 스크립트
DROP USER GD CASCADE;
CREATE USER GD IDENTIFIED BY 1111;
GRANT DBA TO GD;

--처음엔 계정이 없으니 오류가 나지만(삭제만 안되고 나머지는 실행), 두번째는 아무 오류도 없지요!

git add commit push

초록+눌러서 GD로 일반계정 하나 만들어줌
이제 이걸로 접속해요~~

옆에 접속탭에 이것저것 떠요 구경해봐용

데이터타입 따로 제약조건 따로 공부해야해요
데이터타입에 머 들어가는지 제약조건에 머 들어가는지!

BLOB(CLOB말고) 이런게 있어요...내용에 사진있고 이러면 RAW DATA로 저장을 하는데...이러면 용량 어어어엄청 커져요 그래요 이걸 다루진 않을거예요. 경로만 DB에 보관하고 이미지는 하드에 ㅋㅋㅋㅋ 용량이 어우


깃에 올리는건 집가기 전에 올려요~ 올릴려면 커밋 또 해야하는데 그럼 보기가 좀...커밋을 계속하면 불편해진다는게 이런거죠 그러고보니 이 메모장도 깃에 올리면 되는거 아닌가!!!!

row가 행 이 집단이 카디널리티
column이 열 이 집단이 degree
domain은 domain=(남, 여) 이러면 도메인은 남, 여이다.
테이블=릴레이션

sqld db는 주로 oracle db로 제출되기에 좀 유리해요!

테이블생성할때 기본키와 외래키는 명시적으로 선언해야 함
not null primary key 이렇게!

슈퍼키...분석해서 식별해낼 수 있는 모든 칼럼 혹은 그 집합
직업 + 이름 이런식으로도 가능함 그러니까 엄청 많다...
근데 이렇게 2개이상 모아놓은 것들, 그걸 여기서 빼버리면
-> 그게 후보키!(유일성+최소성의 특징)

후보키에서 기본키 하나 뽑으면 나머지는 대체키(보조키)가 됩니다. (만일의 경우 기본키로 대체가능한 키)

외래키!! 오후에는 이거배우고 실습합니다!
다른 테이블과 관계를 맺을 때 사용하는 키. 참조 무결성의 특징을 갖는다.
외래키는 다른 테이블의 pk를 참조할 때 쓰는 키이다.(부모-자식)
pk를 가진 테이블을 부모테이블, 외래키를 가진 테이블을 자식테이블이라고 한다.
Parent key, child Key.
만약 기본키에 없는데 외래키로 썼다! parent key not founded 이렇게 뜬다!
10까지 있는데 11썼다 이러면 저 에러뜬다.
이걸..'참조무결성'을 위배했다 라고 표현합니다. 열심히 외운 그 참조무결성!!

테이블 만들때 무조건 부모테이블 먼저 만들어야함!!!!! 헷갈리면 오류뿐

만들어서 테이블 데이터탭에서 문서+ 요모양에서 정보 입력하고 테스트해보기
부모키에 없는거 뜨면 띠리링 오류발생 무결성 제약조건이 위배되었습니다~~ 부모키가 없습니다 뜹니다.

근데 부모키 갑자기 삭제된다면?!? 이러면..이 자식키만 삭제하거나 OR 자식키를 가진 행 전체를 삭제하거나 하는데 보통 후자

다대다...1:M -  M:1 이렇게 연결해서 다대다 관계를 만든다.

공감도 다대다 관계임
(아마..내가 공감한글들 / 내 글에 공감한 사람들 M:M이니까?)

다대다 실습...약간 오류를 잡아내고서...완!! 깔끔하게 잘 나온것 같다.
테이블 이름 짓는것도 약간 헷갈림. 기준을 생각해놓는게 편할듯?


ON DELETE CASCADE 관련된거 싹 다 지워
ON DELETE SET NULL 분서갱유다 남겨둬라

쿼리문 변경하고 다시 실행했더니 이미 있는 테이블이라고 안됨;
-> 찾아보니 실행이아니라 수정 후 저장을 해야하는 것 같음!!

테이블 만들기 전에 종이나 이런데 어케어케 그려보고~~~ 표로 딱 정리함.
이게 바로 그 개념적 설계!! 개논물의 그 개!!

물리적설계(두다다다 키보드 치는거) 보다는 개념적 설계가 까다로움...ㅠ
뭘 기본키로 하고...다대다 관계(이거 오류 많이남!) 설정할 때 뭐랑 뭐를 골라서 테이블을 만들어줄건가!!

외래키 할 때 타입 맞춰주는것도 염두에 둬야해요! 타입 같아야 함!! 이름은...달라도 된다!!
참조할 때 타입만 맞으면 된다~ 이름 다르면 헷갈리니까 이름도 맞춰주긴 함




